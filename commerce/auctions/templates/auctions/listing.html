{% extends "auctions/layout.html" %} {% load static %} {% block body %}
<div class="listing">
  <div class="listing-title">
    <strong>
      {{ listing.title }}: ${{ listing.startingBid|floatformat:2 }}
    </strong>
  </div>
  <div class="listing-body">
    {% if listing.imageURL %}
    <img src="{{ listing.imageURL }}" width="50px" height="50px" />
    {% else %}
    <img
      src="{% static 'images/generic_no_image.jpg' %}"
      width="50px"
      height="50px"
    />
    {% endif %}
    <p>{{ listing.description }}</p>
  </div>
</div>

<form
  class="listing-actions"
  method="post"
  action="{% url 'add_to_watchlist' %}"
>
  {% csrf_token %}
  <input type="hidden" name="listing_id" value="{{ listing.id }}" />
  {% if listing not in request.user.watchlist.all %}
  <input type="submit" id="watchlist-button" value="Add to watchlist" />
  {% else %}
  <input type="submit" id="watchlist-button" value="Remove from watchlist" />
  {% endif %}
</form>

{% endblock %}
